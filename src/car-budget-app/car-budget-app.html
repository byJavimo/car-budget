<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">


<link rel="import" href="login.html">
<link rel="import" href="signup.html">
<link rel="import" href="home.html">
<link rel="import" href="used-car-element.html">
<link rel="import" href="new-car-element.html">
<link rel="import" href="user-saved-cars.html">

<dom-module id="car-budget-app">
  <template>
    <style>
      :host {
        display: block;
        --app-primary-color: var(--paper-indigo-500);
      }

      body {
        margin: 0;
      }
    </style>
    <app-location
        route="{{route}}">
    </app-location>

    <app-route
        route="{{route}}"
        pattern="/:page"
        data="{{routeData}}"
        tail="{{subroute}}">
    </app-route>

    <iron-pages
        selected="{{routeData.page}}"
        attr-for-selected="page"
        role="main">
      <login-element user="{{user}}" page="login"></login-element>
      <signup-element page="signup"></signup-element>
      <home-element user="{{user}}" page="home" user="user"></home-element>
    </iron-pages>
  </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
    Polymer({
      is: "car-budget-app",
      properties: {
        route: Object,
        routeData: Object,
        routeTail: Object,
        user: Object
      },
      ready: function() {
        if (this.route.path == "/") {
          this.set('routeData.page', 'login');
        }
      },
    })
  </script>
</dom-module>
